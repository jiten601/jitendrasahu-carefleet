@{
    ViewData["Title"] = "Login";
    Layout = null;
}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>CareFleet - Login</title>

    <link rel="stylesheet" href="~/css/auth.css" asp-append-version="true" />
    <link rel="stylesheet"
          href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
</head>

<body>
    <div class="auth-container">
        <div class="auth-card">

            <!-- Logo -->
            <div class="logo-container" style="text-align:center; margin-bottom:20px;">
                <img src="~/images/FinalLogo.png"
                     alt="CareFleet Logo"
                     style="max-width:200px; height:auto;" />
            </div>

            <h2 class="welcome-text">Welcome Back!</h2>

            <!-- Login Form -->
            <form asp-controller="Account"
                  asp-action="Login"
                  method="post"
                  class="auth-form">

                @Html.AntiForgeryToken()

                <!-- Email -->
                <div class="form-group">
                    <label for="email">Email Address</label>
                    <input type="email"
                           id="email"
                           name="email"
                           placeholder="Enter your email"
                           required
                           autocomplete="email" />
                </div>

                <!-- Password -->
                <div class="form-group">
                    <label for="password">Password</label>
                    <div class="password-wrapper">
                        <input type="password"
                               id="password"
                               name="password"
                               placeholder="Enter your password"
                               required
                               autocomplete="current-password" />

                        <button type="button"
                                class="toggle-password"
                                id="passwordToggle"
                                aria-label="Toggle password visibility">
                            <i class="bi bi-eye"></i>
                        </button>
                    </div>
                </div>

                <!-- Show / Hide Password Script -->
                <script>
                    const passwordInput = document.getElementById('password');
                    const passwordToggle = document.getElementById('passwordToggle');
                    const toggleIcon = passwordToggle.querySelector('i');

                    passwordToggle.addEventListener('click', () => {
                        const isPassword = passwordInput.type === 'password';
                        passwordInput.type = isPassword ? 'text' : 'password';
                        toggleIcon.classList.toggle('bi-eye');
                        toggleIcon.classList.toggle('bi-eye-slash');
                    });
                </script>

                <!-- Remember Me -->
                <div class="form-options">
                    <label class="checkbox-container">
                        <input type="checkbox" name="rememberMe" value="true" />
                        <span class="checkmark"></span>
                        Remember Me
                    </label>

                    <div class="forgot-password-link">
                        <a asp-controller="Account" asp-action="ForgotPassword">
                            Forgot Password?
                        </a>
                    </div>
                </div>

                <!-- Error Message -->
                @if (ViewBag.Error != null)
                {
                    <div class="error-message">
                        @ViewBag.Error
                    </div>
                }

                <!-- Submit -->
                <button type="submit" class="btn-primary">
                    Log In
                </button>

                <div class="divider">
                    <span>OR</span>
                </div>

                <!-- Google (UI only) -->
                <div class="social-buttons">
                    <button type="button" class="social-btn google-btn">
                        <svg width="18" height="18" viewBox="0 0 18 18">
                            <path d="M17.64 9.20454C17.64 8.56636 17.5827 7.95272 17.4764 7.36363H9V10.845H13.8436C13.635 11.97 13.0009 12.9232 12.0477 13.5614V15.8195H14.9564C16.6582 14.2527 17.64 11.9455 17.64 9.20454Z" fill="#4285F4" />
                            <path d="M9 18C11.43 18 13.467 17.1941 14.9564 15.8195L12.0477 13.5614C11.2418 14.1014 10.2109 14.4204 9 14.4204C6.65454 14.4204 4.67182 12.8373 3.96409 10.71H0.957275V13.0418C2.43818 15.9832 5.48182 18 9 18Z" fill="#34A853" />
                            <path d="M3.96409 10.71C3.78409 10.17 3.68182 9.59318 3.68182 9C3.68182 8.40682 3.78409 7.83 3.96409 7.29V4.95818H0.957273C0.347727 6.17318 0 7.54773 0 9C0 10.4523 0.347727 11.8268 0.957273 13.0418L3.96409 10.71Z" fill="#FBBC05" />
                            <path d="M9 3.57955C10.3214 3.57955 11.5077 4.03364 12.4405 4.92545L15.0218 2.34409C13.4632 0.891818 11.4259 0 9 0C5.48182 0 2.43818 2.01682 0.957275 4.95818L3.96409 7.29C4.67182 5.16273 6.65454 3.57955 9 3.57955Z" fill="#EA4335" />
                        </svg>
                        <span>Continue with Google</span>
                    </button>
                </div>

                <!-- Register -->
                <p class="auth-link">
                    Don't have an account?
                    <a asp-controller="Account" asp-action="Register">Register Now</a>
                </p>

            </form>
        </div>
    </div>
</body>
</html>
